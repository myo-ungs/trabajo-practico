\documentclass[a4paper,12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[spanish]{babel}
\usepackage{amsmath,amssymb,amsthm}
\usepackage{amsfonts}
\usepackage{enumitem}
\usepackage{geometry}
\geometry{margin=2.5cm}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{longtable}
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=black,
    filecolor=magenta,      
    urlcolor=cyan,
    pdftitle={Optimización de Picking},
    pdfpagemode=FullScreen,
}
\usepackage{tocloft}

\renewcommand{\cfttoctitlefont}{\centering\Huge\bfseries}
\renewcommand{\cftsecfont}{\bfseries}
\renewcommand{\cftsecpagefont}{\bfseries}
\setlength{\cftbeforesecskip}{8pt}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}

\makeatletter
\let\old@tocline\@tocline
\def\@tocline#1#2#3#4#5#6#7{%
  \old@tocline{#1}{#2}{#3}{#4}{#5}{#6}{\textcolor{black}{#7}}%
}
\makeatother

\setcounter{section}{-1}
\usepackage{enumitem}
\usepackage[linesnumbered,ruled,vlined]{algorithm2e}
\SetKwInput{KwData}{Datos}
\SetKwInput{KwResult}{Resultado}
\SetKwComment{Comment}{$\triangleright$\ }{}


\begin{document}

\begin{titlepage}
    \centering
    \vspace*{0.9in}
    
    % Título del informe
    {\Huge \bfseries Informe de Entrega Final\par}
    
    \vspace{1in}
    
    % Universidad y materia
    {\LARGE \bfseries Universidad Nacional General Sarmiento \par}
    \vspace{0.3in}
    {\Large \textit{Modelado y Optimización} \par}
    \vspace{1in}
    {\Large \bfseries Profesor: \par}
    \vspace{0.3in}
    {\Large Marcelo Mydlarz \par}

    \vspace{0.6in}
    
    % Integrantes
    {\Large \bfseries Integrantes: \par}
    \vspace{0.3in}
    {\Large Juan Manuel Losada \par}
    \vspace{0.1in}
    {\Large Facundo Ruiz \par}
    \vspace{0.1in}
    {\Large Matías Morales \par}
    \vspace{0.1in}
    {\Large Vanesa Vera \par}

    \vspace{1in}
    
    % Fecha
    % Pie de página opcional
    \vfill
    {\Large 26 de Junio 2025 \par}
    
\end{titlepage}

% Configuración de encabezados y pies de página
\pagestyle{fancy}
\fancyhf{}
\lhead{Modelado y Optimización}
\rhead{\thepage}
\cfoot{}

% Definición de entornos
\newtheorem{theorem}{Teorema}
\newtheorem{lemma}{Lema}
\newtheorem{definition}{Definición}
\newtheorem{problem}{Problema}

% Configuración de listings
\lstdefinestyle{PythonStyle}{
  language=Python,
  basicstyle=\ttfamily\footnotesize,
  keywordstyle=\color{blue}\bfseries,
  commentstyle=\color{green!60!black}\itshape,
  stringstyle=\color{red!80!black},
  numberstyle=\tiny\color{gray},
  showstringspaces=false,
  tabsize=2,
  breaklines=true,
  breakatwhitespace=true,
  numbers=left,
  frame=tb,
  framesep=5pt,
  framexleftmargin=2pt,
  captionpos=b,
  extendedchars=true,
  inputencoding=utf8,
  literate={á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1 {Á}{{\'A}}1 {É}{{\'E}}1 {Í}{{\'I}}1 {Ó}{{\'O}}1 {Ú}{{\'U}}1 {ñ}{{\~n}}1 {Ñ}{{\~N}}1
}
\lstset{style=PythonStyle}


%====================================================================
% CARÁTULA
%====================================================================
\thispagestyle{empty}
\clearpage

\tableofcontents
\clearpage

%====================================================================
\section{Introducción}
%====================================================================
En este informe se presentan los resultados obtenidos tras la resolución de los problemas planteados, que incluyen unos problemas iniciales bajo el contexto \textit{Entrada en Calor} y, principalmente, el problema central denominado \textit{El Desafío}. El análisis se centra especialmente en las partes 4 a 7, que abordan la resolución integral y la mejora del problema.

\subsection*{Descripción de los problemas}

A continuación se describen brevemente los problemas de la entrada en calor y las diferentes etapas del \textit{Desafío}, poniendo énfasis en las fases 4 a 7 que constituyen el núcleo del estudio.

\begin{itemize}
    \item \textbf{Problemas iniciales (entrada en calor):}  
    \begin{itemize}
        \item \textit{Problema 1:} Selección óptima de un único contenedor para abastecer un conjunto de bolsitas, maximizando el beneficio total.  
        \item \textit{Problema 2:} Generalización del anterior, permitiendo seleccionar múltiples contenedores para cubrir las demandas, incrementando la flexibilidad y complejidad.
    \end{itemize}

    \item \textbf{Partes 1 a 3 del Desafío:}  
    Se abordan formulaciones iniciales para la selección de pasillos con cantidad fija (\textit{Parte 1}), selección con pasillos específicos (\textit{Parte 2}) y una estrategia avanzada basada en generación de columnas para manejar instancias grandes (\textit{Parte 3}).

    \item \textbf{Partes 4 a 7:} \textit{(Enfoque principal de este informe)}  
    \begin{itemize}
        \item \textit{Parte 4:} Implementación de un método iterativo que explora diferentes cantidades de pasillos a seleccionar y refina la solución fijando pasillos para optimizar la selección de órdenes. Se garantiza el respeto al límite de tiempo total asignado.
        
        \item \textit{Parte 5:} Extensión de la parte 4, incorporando generación de columnas para mejorar la solución en problemas de gran escala.
        
        \item \textit{Parte 6:} Evaluación y propuesta de mejoras para la generación de columnas, como selección inicial eficiente, mejoras en la función de ranking y eliminación de columnas no utilizadas.
        
        \item \textit{Parte 7:} Integración opcional de las mejoras anteriores junto con modelos no lineales, técnicas de inteligencia artificial y metodologías avanzadas (por ejemplo, Branch \& Price), con el objetivo de competir eficazmente con diversas instancias del problema.
    \end{itemize}
\end{itemize}

\subsection*{Definiciones importantes}

\subsubsection*{Entrada en Calor:}

\begin{itemize}
    \item $I$: conjunto de ítems.
    \item $O$ de bolsitas. Cada bolsita $o \in O$ contiene ítems del conjunto $I$. El ítem $i \in I$ aparece $u_{oi}$ veces en la bolsita $o$.
    \item $A$: conjunto de contenedores. Cada contenedor $a \in A$ contiene ítems del conjunto $I$. El ítem $i \in I$ aparece $u_{ai}$ veces en el contenedor $a$.
    \item $b_{oi}$: beneficio del ítem $i$ en la bolsita $o$.
    \item $b_a$: beneficio asociado al contenedor $a$.
    
\end{itemize}

\subsubsection*{El Desafío:}

\begin{itemize}
    \item $O$: conjunto de órdenes.
    \item $I$: conjunto de elementos.
    \item $A$: conjunto de pasillos.
    \item $LB$: límite inferior de unidades a recolectar.
    \item $UB$: límite superior de unidades a recolectar.
\end{itemize}


% \subsection*{Parámetros del Sistema}

% \subsubsection*{Entrada en Calor:} 

% \begin{itemize}
%     \item $c_{jt}$: Cantidad del producto $t$ requerida por la orden $j$
%     \item $d_{kt}$: Cantidad del producto $t$ disponible en el pasillo $k$
%     \item $\beta_j$: Beneficio obtenido al seleccionar la orden $j$
%     \item $\alpha_k$: Costo de utilizar el pasillo $k$
%     \item $L_w, U_w$: Límites inferior y superior para la ola de trabajo (wave), que definen el rango permitido para la cantidad total de productos procesados
% \end{itemize}

% \subsubsection*{El Desafío:}

% \begin{itemize}
%     \item $c_{jt}$: Cantidad del producto $t$ requerida por la orden $j$
%     \item $d_{kt}$: Cantidad del producto $t$ disponible en el pasillo $k$

% \end{itemize}

\subsection*{Formato de Datos de Entrada}

Los datos del problema se proporcionan en archivos de texto estructurados con el siguiente formato:

% \subsubsection*{Entrada en Calor:}

% \begin{itemize}
%     \item \textbf{Primera línea:} contiene tres enteros $o$, $i$, $a$ que indican la cantidad de bolsitas, el número de items diferentes y la cantidad de contenedores, respectivamente.
%     \item \textbf{Siguientes $o$ líneas:} cada línea comienza con un entero \(k\), seguido por \(k\) pares de enteros, representando el número del item y la cantidad de veces que aparece en la bolsita. Dentro de este grupo de líneas, y para \(j \in \{1, \ldots, o\}\), la \(j\)-ésima línea contiene datos relacionados con la bolsita indexada por \(j-1\), significando que las bolsitas están numeradas de \(0\) a \(o-1\). Además, se asume que los items están indexados de \(0\) a \(i-1\).
%     \item \textbf{Siguientes $J$ líneas:} cada línea comienza con un entero \(l\), seguido por \(l\) pares de enteros, representando el número del item y el número de unidades disponibles en el contenedor. Similar al caso de las bolsitas, dentro de este grupo de líneas, y para \(j \in \{1, \ldots, a\}\), la \(j\)-ésima línea contiene datos relacionados con el contenedor indexado por \(j-1\), significando que los contenedores están numerados de \(0\) a \(a-1\).
% \end{itemize}

\subsubsection*{El Desafío:}

\begin{itemize}
    \item \textbf{Primera línea:} contiene tres enteros $o$, $i$, $a$ que indican la cantidad de órdenes, la cantidad de elementos diferentes y la cantidad de pasillos, respectivamente.

    \item \textbf{Siguientes $o$ líneas:} cada línea representa una orden. 
    \begin{itemize}
        \item Cada línea comienza con un entero $k$, que indica la cantidad de elementos distintos solicitados en la orden.
        \item Luego siguen $k$ pares de números $(e_j, q_j)$ donde:
        \begin{itemize}
            \item $e_j$ es el índice del elemento solicitado.
            \item $q_j$ es la cantidad requerida del elemento $e_j$.
        \end{itemize}
    \end{itemize}

    \item \textbf{Siguientes $a$ líneas:} cada línea representa un pasillo.
    \begin{itemize}
        \item Cada línea comienza con un entero $l$, que indica la cantidad de tipos de elementos disponibles en ese pasillo.
        \item Luego siguen $l$ pares de números $(e_k, s_k)$ donde:
        \begin{itemize}
            \item $e_k$ es el índice del elemento disponible.
            \item $s_k$ es la cantidad disponible del elemento $e_k$ en ese pasillo.
        \end{itemize}
    \end{itemize}

    \item \textbf{Última línea:} contiene dos enteros $LB$ y $UB$, que representan el límite inferior y superior de unidades a recolectar, respectivamente.
\end{itemize}

\clearpage

\section{Parte 4}
\label{sec:variante4}

\begin{enumerate}[label=(\alph*), leftmargin=2em]
    \item \textbf{Modelos matemáticos utilizados:}
    \begin{enumerate}[label=\roman*., leftmargin=0.2em]
        \item Descripción del problema que resuelve cada modelo.

            En esta etapa se aborda la resolución integral del problema \textit{Desafío}, integrando las estrategias desarrolladas en las partes anteriores. Para ello, se implementa el método \texttt{Opt\_ExplorarCantidadPasillos(umbral)}, que ejecuta de forma iterativa el modelo propuesto en la primera parte del desafio (función \texttt{Opt\_cantidadPasillosFija}), donde se considera una cantidad fija \(k\) de pasillos a seleccionar.
    
            Los valores de \(k\) se determinan a partir de la función \texttt{Rankear}, que estima el potencial de cada valor en función de la capacidad acumulada de los pasillos. Por cada \(k\), se ejecuta el modelo de la primera parte dentro del tiempo asignado, y se conserva la mejor solución encontrada.
            
            Una vez finalizada la etapa exploratoria, se fijan los pasillos de la mejor solución obtenida y se aplica el modelo de la segunda parte del desafio (función \texttt{Opt\_PasillosFijos}), que refina la selección de órdenes en base a la disponibilidad real de los pasillos previamente seleccionados.
            
            Este enfoque permite encontrar una solución final más eficiente, combinando exploración amplia (con múltiples valores de \(k\)) y una etapa de mejora local. Se garantiza que el tiempo total de ejecución del método \texttt{Opt\_ExplorarCantidadPasillos(umbral)} no exceda el umbral de tiempo especificado.
            
        \item Definición de variables utilizadas.

            \begin{itemize}
                \item \(x_o \in \{0,1\}\): variable binaria que indica si la orden \(o\) es seleccionada (\(1\)) o no (\(0\)).
                \item \(y_a \in \{0,1\}\): variable binaria que indica si el pasillo \(a\) es seleccionado (\(1\)) o no (\(0\)).
                \item Parámetros:
                \begin{itemize}
                    \item \(W_{o,i}\): cantidad del elemento \(i\) en la orden \(o\).
                    \item \(S_{a,i}\): capacidad disponible del elemento \(i\) en el pasillo \(a\).
                    \item \(\mathrm{LB}\): límite inferior de la cantidad total de elementos a recolectar.
                    \item \(\mathrm{UB}\): límite superior de la cantidad total de elementos a recolectar.
                    \item \(k\): cantidad fija de pasillos a visitar en la etapa exploratoria.
                \end{itemize}
            \end{itemize}

        \item Modelo matemático completo.

            Para un valor fijo de \(k\), el modelo a optimizar es:

            \[
            \begin{aligned}
            \max \quad & \sum_{o=1}^{n} \sum_{i=1}^{m} W_{o,i} \cdot x_o \\
            \text{s.t} \quad
            & \mathrm{LB} \leq \sum_{o=1}^n \sum_{i=1}^m W_{o,i} \cdot x_o \leq \mathrm{UB} \\
            & \sum_{o=1}^n W_{o,i} \cdot x_o \leq \sum_{a \in P_k} S_{a,i} \cdot y_a, \quad \forall i = 1,\ldots,m \\
            & \sum_{a \in P_k} y_a = k \\
            & x_o \in \{0,1\}, \quad y_a \in \{0,1\}
            \end{aligned}
            \]

            donde \(P_k\) es el conjunto de pasillos considerados para la cantidad fija \(k\), determinado por la función \texttt{Rankear} y la reutilización de soluciones previas.

            Luego, con los pasillos fijos seleccionados \(\hat{P}\), se resuelve el modelo de refinamiento:

            \[
            \begin{aligned}
            \max \quad & \sum_{o=1}^{n} \sum_{i=1}^{m} W_{o,i} \cdot x_o \\
            \text{s.t} \quad
            & \mathrm{LB} \leq \sum_{o=1}^n \sum_{i=1}^m W_{o,i} \cdot x_o \leq \mathrm{UB} \\
            & \sum_{o=1}^n W_{o,i} \cdot x_o \leq \sum_{a \in \hat{P}} S_{a,i}, \quad \forall i = 1,\ldots,m \\
            & x_o \in \{0,1\}
            \end{aligned}
            \]

        \item Explicación de la función objetivo y las restricciones.

            \begin{itemize}
                \item \textbf{Función objetivo:} maximizar la cantidad total de elementos recolectados, representado por la suma ponderada de elementos en las órdenes seleccionadas.
                \item \textbf{Restricciones:}
                \begin{itemize}
                    \item La suma total de elementos recolectados debe estar dentro de los límites inferiores y superiores (\(\mathrm{LB}\) y \(\mathrm{UB}\)), garantizando que la solución sea viable y esté dentro de los parámetros deseados.
                    \item La cantidad total de cada elemento recolectado no puede exceder la capacidad disponible de los pasillos seleccionados.
                    \item En la primera etapa, se seleccionan exactamente \(k\) pasillos.
                    \item Las variables \(x_o\) y \(y_a\) son binarias, lo que refleja decisiones de inclusión o exclusión de órdenes y pasillos, respectivamente.
                \end{itemize}
            \end{itemize}
    \end{enumerate}

    \item \textbf{Pseudocódigo a alto nivel del algoritmo:}

    
    % Aumentar espacio vertical entre líneas
    \setlength{\algomargin}{1em}
    \setlength{\lineskip}{1.2em} % Esto puede ayudar, pero no siempre funciona
    
    % O agregar espacio extra entre comandos
    \newcommand{\myvspace}{\vspace{0.3em}}
    
    % Código del algoritmo:
    \begin{algorithm}[H]
    \KwData{\texttt{umbral\_total} \myvspace}
    \KwResult{Mejor solución encontrada \myvspace}
    
    % --- Inicialización ---
    Inicializar $tiempo\_inicio \gets$ tiempo actual\;\myvspace
    Inicializar $mejor\_valor \gets -\infty$\;\myvspace
    Inicializar $mejor\_solución \gets \emptyset$\;\myvspace
    Crear lista $ranking\_k \gets \{1, 2, \ldots, n\_pasillos\}$\;\myvspace
    
    % --- Exploración iterativa ---
    \ForEach{$k$ en $ranking\_k$}{
        $tiempo\_restante \gets umbral\_total - (tiempo\ actual - tiempo\_inicio)$\;\myvspace
        
        \If{$tiempo\_restante \leq 0$}{
            \textbf{salir} del ciclo \tcp*
        }
        
        $solución_k \gets$ ejecutar \texttt{Opt\_cantidadPasillosFija}$(k, tiempo\_restante)$\;\myvspace
        
        \If{$solucion_k$ es válida \textbf{y} $solucion_k.valor\_objetivo > mejor\_valor$}{
            $mejor\_valor \gets solucion_k.valor\_objetivo$\;\myvspace
            $mejor\_solucion \gets solución_k$\;\myvspace
        }
    }
    
    % --- Refinamiento con pasillos fijos ---
    Fijar $pasillos\_fijos \gets$ pasillos seleccionados en $mejor\_solucion$\;\myvspace
    
    $tiempo\_restante \gets umbral\_total - (tiempo\ actual - tiempo\_inicio)$\;\myvspace
    
    \If{$tiempo\_restante > 0$}{
        $solucion\_refinada \gets$ ejecutar \texttt{Opt\_PasillosFijos}$(tiempo\_restante)$\;\myvspace
        
        \If{$solución\_refinada$ es válida \textbf{y} $solución\_refinada.valor\_objetivo > mejor\_valor$}{
            $mejor\_solución \gets solución\_refinada$\;\myvspace
        }
    }
    
    \Return $mejor\_solucion$\;
    
    \caption{Algoritmo de exploración y refinamiento para selección de pasillos}
    \end{algorithm}

\end{enumerate}


\clearpage

\section{Parte 5}
\label{sec:variante5}

\begin{enumerate}[label=(\alph*), leftmargin=2em]
    \item \textbf{Modelos matemáticos utilizados:}
    \begin{enumerate}[label=\roman*., leftmargin=0.2em]
        \item Descripción del problema que resuelve cada modelo.
        \item Definición de variables utilizadas.
        \item Modelo matemático completo.
        \item Explicación de la función objetivo y las restricciones.
    \end{enumerate}

    \item \textbf{Pseudocódigo a alto nivel del algoritmo:}
\end{enumerate}

\clearpage

\section{Parte 6}
\label{sec:variante6}

\begin{enumerate}[label=(\alph*), leftmargin=2em]
    \item \textbf{Modelos matemáticos utilizados:}
    \begin{enumerate}[label=\roman*., leftmargin=0.2em]
        \item Descripción del problema que resuelve cada modelo.
        \item Definición de variables utilizadas.
        \item Modelo matemático completo.
        \item Explicación de la función objetivo y las restricciones.
    \end{enumerate}

    \item \textbf{Pseudocódigo a alto nivel del algoritmo:}
\end{enumerate}

\clearpage

\section{Parte 7}
\label{sec:variante5}

\begin{enumerate}[label=(\alph*), leftmargin=2em]
    \item \textbf{Modelos matemáticos utilizados:}
    \begin{enumerate}[label=\roman*., leftmargin=0.2em]
        \item Descripción del problema que resuelve cada modelo.
        \item Definición de variables utilizadas.
        \item Modelo matemático completo.
        \item Explicación de la función objetivo y las restricciones.
    \end{enumerate}

    \item \textbf{Pseudocódigo a alto nivel del algoritmo:}
\end{enumerate}

\clearpage

\section{Resultados en tablas}

\clearpage

%====================================================================
\section{Conclusiones}
%====================================================================

Durante el desarrollo de este trabajo se enfrentaron diversas dificultades que proporcionaron valiosos aprendizajes sobre optimización combinatoria y su implementación práctica.

\begin{enumerate}
    \item \textbf{Comprensión del contexto del problema}
    
    La transición conceptual desde la descripción abstracta del problema hacia su interpretación en el contexto real de optimización de almacenes requirió un análisis cuidadoso de la semántica de variables y restricciones.
    
    \emph{Aprendizaje:} La importancia de contextualizar problemas de optimización en dominios específicos para una mejor comprensión y comunicación de resultados.


    \item \textbf{Complejidad de la Generación de Columnas}
    
    Modificar
    
    \emph{Aprendizaje:} 

\end{enumerate}

\textbf{Principales aprendizajes obtenidos:}

\begin{itemize}
    \item \textbf{SCIP}: 
    
\end{itemize}


\end{document}


====================================================
% codigo comentado de las demas partes del problema
====================================================

%====================================================================
\section{Entrada en Calor}
%====================================================================

Esta sección presenta el desarrollo matemático detallado de los modelos para los problemas relacionados con la entrada en calor.

\subsection{Problema 1:}
\label{sec:probl1}

\subsubsection{Formulación Matemática}

\textbf{Variables:}
\begin{itemize}
    \item $x_a \in \{0,1\}$: 1 si el contenedor $a \in A$ es seleccionado, 0 en caso contrario
    \item $y_o \in \{0,1\}$: 1 si la bolsita $o \in O$ es seleccionada, 0 en caso contrario
\end{itemize}

\textbf{Parámetros:}
\begin{itemize}
    \item $B_a$: beneficio del contenedor $a$
    \item $B_{oi}$: beneficio de la bolsita $o$ para el ítem $i$
    \item $U_{oi}$: cantidad de ítems del tipo $i$ en la bolsita $o$
    \item $U_{ai}$: cantidad de ítems del tipo $i$ en el contenedor $a$
\end{itemize}

\textbf{Función Objetivo:}
\begin{equation}
\max \quad \sum_{a \in A} B_a \, x_a + \sum_{o \in O} \sum_{i} B_{oi} \, y_o
\end{equation}

\textbf{Restricciones:}
\begin{align}
& \sum_{a \in A} x_a = 1 \\[6pt]
& \sum_{a \in A} U_{ai} \, x_a \geq \sum_{o \in O} U_{oi} \, y_o, \quad \forall i \\
& x_a \in \{0,1\}, \quad \forall a \in A \\
& y_o \in \{0,1\}, \quad \forall o \in O
\end{align}

\clearpage

\subsection{Problema 2:}
\label{sec:probl2}

\subsubsection{Formulación Matemática}
\textbf{Variables:}
\begin{itemize}
    \item $x_a \in \{0,1\}$: 1 si el contenedor $a \in A$ es seleccionado, 0 en caso contrario
    \item $y_o \in \{0,1\}$: 1 si la bolsita $o \in O$ es seleccionada, 0 en caso contrario
\end{itemize}

\textbf{Parámetros:}
\begin{itemize}
    \item $B_a$: beneficio del contenedor $a$
    \item $B_{oi}$: beneficio de la bolsita $o$ para el ítem $i$
    \item $U_{oi}$: cantidad de ítems del tipo $i$ en la bolsita $o$
    \item $U_{ai}$: cantidad de ítems del tipo $i$ en el contenedor $a$
\end{itemize}

\textbf{Función Objetivo:}
\begin{equation}
\max \quad \sum_{a \in A} B_a x_a + \sum_{o \in O} \sum_{i} B_{oi} y_o
\end{equation}

\textbf{Restricciones:}
\begin{equation}
\sum_{a \in A} x_a = 1
\end{equation}

\begin{equation}
\sum_{a \in A} U_{ai} x_a \geq \sum_{o \in O} U_{oi} y_o, \quad \forall i
\end{equation}

\begin{equation}
x_a \in \{0,1\}, \quad \forall a \in A
\end{equation}

\begin{equation}
y_o \in \{0,1\}, \quad \forall o \in O
\end{equation}

\clearpage

%====================================================================
\section{El Desafió}
%====================================================================

Esta sección presenta el desarrollo matemático detallado de los modelos y sus implementación en Python para la los problemas del desafió.

\subsection{Primera parte:}
\label{sec:variante1}

\subsubsection{Formulación Matemática}

\textbf{Conjuntos e Índices:}
\begin{itemize}
    \item $O = \{0, 1, \ldots, o{-}1\}$: Conjunto de órdenes
    \item $I = \{0, 1, \ldots, i{-}1\}$: Conjunto de elementos o productos
    \item $A$: Conjunto de pasillos disponibles
\end{itemize}

\textbf{Parámetros:}
\begin{itemize}
    \item $W_{io}$: Cantidad del elemento $i$ requerido por la orden $o$
    \item $S_{ia}$: Cantidad del elemento $i$ disponible en el pasillo $a$
    \item $LB$: Límite inferior de unidades a recolectar
    \item $UB$: Límite superior de unidades a recolectar
    \item $P$: Cantidad de pasillos a visitar
\end{itemize}

\textbf{Variables de Decisión:}
\begin{itemize}
    \item $x_o \in \{0,1\}$: Toma valor 1 si la orden $o$ es seleccionada, 0 en caso contrario
    \item $y_a \in \{0,1\}$: Toma valor 1 si el pasillo $a$ es seleccionado, 0 en caso contrario
\end{itemize}

\textbf{Función Objetivo:}
\begin{equation}
\max \quad \frac{1}{P} \sum_{o \in O} \sum_{i \in I} W_{io} \cdot x_o
\end{equation}

\textbf{Restricciones:}
\begin{align}
\sum_{o \in O} \sum_{i \in I} W_{io} \cdot x_o &\geq LB \label{eq:limite_inferior} \\[6pt]
\sum_{o \in O} \sum_{i \in I} W_{io} \cdot x_o &\leq UB \label{eq:limite_superior} \\[6pt]
\sum_{o \in O} W_{io} \cdot x_o &\leq \sum_{a \in A} S_{ia} \cdot y_a, \quad \forall i \in I \label{eq:disponibilidad} \\[6pt]
\sum_{a \in A} y_a &= P \label{eq:pasillos_fijos}
\end{align}

\subsubsection{Implementación en Python}

La implementación se encuentra en \texttt{parte1.py} y utiliza PuLP para la optimización:

\begin{lstlisting}[language=Python, caption=Implementación clave de la parte 1]

\end{lstlisting}

\clearpage

\subsection{Segunda parte:}
\label{sec:variante2}

\subsubsection{Formulación Matemática}

\textbf{Conjuntos:}
\begin{itemize}
    \item $O$: conjunto de órdenes
    \item $I$: conjunto de elementos
    \item $A_0 \subseteq A$: conjunto de pasillos preseleccionados
    \item $A'$: pasillos a visitar
\end{itemize}

\textbf{Parámetros:}
\begin{itemize}
    \item $W_{io}$: cantidad del elemento $i$ requerido por la orden $o$
    \item $S_{ia}$: cantidad del elemento $i$ disponible en el pasillo $a$
    \item $LB$: límite inferior de unidades a recolectar
    \item $UB$: límite superior de unidades a recolectar
\end{itemize}

\textbf{Variables de Decisión:}
\begin{itemize}
    \item $x_o \in \{0,1\}$: Toma valor 1 si la orden $o$ es seleccionada, 0 en caso contrario
\end{itemize}

\textbf{Función Objetivo:}
\begin{equation}
\operatorname{max} \quad \sum_{o \in O} \sum_{i \in I} W_{io} \cdot x_o
\end{equation}


\textbf{Restricciones:}
\begin{align}
\sum_{o \in O} \sum_{i \in I} W_{io} \cdot x_o &\geq LB \\
\sum_{o \in O} \sum_{i \in I} W_{io} \cdot x_o &\leq UB \\
\sum_{o \in O} W_{io} \cdot x_o &\leq \sum_{a \in A'} S_{ia}, \quad \forall i \in I
\end{align}

\subsubsection{Implementación en Python}

La implementación en \texttt{parte2.py} incluye validaciones para verificar que las órdenes fijas cumplan con los límites de ola de trabajo:

\begin{lstlisting}[language=Python, caption=Implementación clave de la segunda parte]

\end{lstlisting}

\clearpage

\subsection{Tercera parte:}
\label{sec:variante3}

\subsubsection{Formulación Matemática}

\textbf{Conjuntos:}
\begin{itemize}
    \item $O = \{0, \ldots, n-1\}$: conjunto de órdenes
    \item $P = \{0, \ldots, m-1\}$: conjunto de pasillos
    \item $C$: conjunto de columnas válidas (índices $i$)
\end{itemize}

\textbf{Parámetros:}
\begin{itemize}
    \item $c_{io} \in \{0,1\}$: indica si la columna $i$ cubre la orden $o$
    \item $a_i \in P$: pasillo asociado a la columna $i$
    \item $M$: número máximo de pasillos a seleccionar
\end{itemize}

\textbf{Variables de Decisión:}
\begin{itemize}
    \item $z_i \in \{0,1\}$: 1 si se selecciona la columna $i$, 0 en caso contrario
    \item $y_a \in \{0,1\}$: 1 si se selecciona el pasillo $a$, 0 en caso contrario
\end{itemize}

\textbf{Función Objetivo:}
\begin{equation}
\max \quad \sum_{i \in C} \left(\sum_{o \in O} c_{io}\right) z_i
\end{equation}

\textbf{Restricciones:}
\begin{align}
&\sum_{i \in C} c_{io} \, z_i \leq 1, \quad \forall o \in O \\
&z_i \leq y_{a_i}, \quad \forall i \in C \\
&\sum_{a \in P} y_a = M
\end{align}


\subsubsection{Implementación en Python}

El archivo \texttt{parte3.py} implementa el algoritmo completo:

\begin{lstlisting}[language=Python, caption=Algoritmo principal de generación de columnas]

\end{lstlisting}

\clearpage